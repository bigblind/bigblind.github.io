define(function(){
    var makeRotations = function(block){
        var rotations = [block];
        var previous = block;
        for (var i = 0; i < 3; i++){
            var r = rotateRight(previous);
            rotations.push(r);
            previous = r;
        }
        return rotations;
    };

    var rotateRight = function(block){
        var rotated = [];
        for(var c = 0; c < block[0].length; c++){
            row = [];
            for(var r=0; r < block.length; r++){
                row.unshift(block[r][c]);
            }
            rotated.push(row);
        }
        return rotated;
    };

    return {
        getKickOffsets: function(){
            return [
                [
                    [[0, 0], [-1, 0], [2, 0], [-1, 0], [2, 0]],
                    [[-1, 0], [0, 0], [0, 0], [0, -1], [0, 2]],
                    [[-1, -1], [1, -1], [-2, -1], [1, 0], [-2, 0]],
                    [[0, -1], [0, -1], [0, -1], [0, 1], [0, -2]]
                ],
                [
                    [[0, 0], [0, 0], [0, 0], [0, 0], [0, 0]],
                    [[0, 0], [1, 0], [1, 1], [0, -2], [1, -2]],
                    [[0, 0], [0, 0], [0, 0], [0, 0], [0, 0]],
                    [[0, 0], [-1, 0], [-1, 1], [0, -2], [-1, -2]]
                ],
                [
                    [[0, 0], [0, 0], [0, 0], [0, 0], [0, 0]],
                    [[0, 0], [1, 0], [1, 1], [0, -2], [1, -2]],
                    [[0, 0], [0, 0], [0, 0], [0, 0], [0, 0]],
                    [[0, 0], [-1, 0], [-1, 1], [0, -2], [-1, -2]]
                ],
                [
                    [[0, 0], [0, 0], [0, 0], [0, 0], [0, 0]],
                    [[0, 0], [1, 0], [1, 1], [0, -2], [1, -2]],
                    [[0, 0], [0, 0], [0, 0], [0, 0], [0, 0]],
                    [[0, 0], [-1, 0], [-1, 1], [0, -2], [-1, -2]]
                ],
                [
                    [[0, 0], [0, 0], [0, 0], [0, 0], [0, 0]],
                    [[0, 0], [1, 0], [1, 1], [0, -2], [1, -2]],
                    [[0, 0], [0, 0], [0, 0], [0, 0], [0, 0]],
                    [[0, 0], [-1, 0], [-1, 1], [0, -2], [-1, -2]]
                ],
                [
                    [[0, 0], [0, 0], [0, 0], [0, 0], [0, 0]],
                    [[0, 0], [1, 0], [1, 1], [0, -2], [1, -2]],
                    [[0, 0], [0, 0], [0, 0], [0, 0], [0, 0]],
                    [[0, 0], [-1, 0], [-1, 1], [0, -2], [-1, -2]]
                ],
                [
                    [[0, 0]],
                    [[0, 1]],
                    [[-1, 1]],
                    [[-1, 0]],
                ],
                [
                    [[0, 0], [0, 0], [0, 0], [0, 0], [0, 0]],
                    [[0, 0], [1, 0], [1, 1], [0, -2], [1, -2]],
                    [[0, 0], [0, 0], [0, 0], [0, 0], [0, 0]],
                    [[0, 0], [-1, 0], [-1, 1], [0, -2], [-1, -2]]
                ]
            ];
        },
        getPreviews: function(){
            return [
                [
                    [1, 1, 1, 1]
                ],
                [
                    [0, 2, 0],
                    [2, 2, 2]
                ],
                [
                    [3, 3, 0],
                    [0, 3, 3]
                ],
                [
                    [0, 4, 4],
                    [4, 4, 0]
                ],
                [
                    [5, 0, 0],
                    [5, 5, 5]
                ],
                [
                    [0, 0, 6],
                    [6, 6, 6]
                ],
                [
                    [7, 7],
                    [7, 7]
                ]
            ];
        },
        getBlocks: function(){
            var blocks = [
                [
                    [0, 0, 0, 0, 0],
                    [0, 0, 0, 0, 0],
                    [0, 1, 1, 1, 1],
                    [0, 0, 0, 0, 0],
                    [0, 0, 0, 0, 0]
                ],
                [
                    [0, 2, 0],
                    [2, 2, 2],
                    [0, 0, 0]
                ],
                [
                    [3, 3, 0],
                    [0, 3, 3],
                    [0, 0, 0]
                ],
                [
                    [0, 4, 4],
                    [4, 4, 0],
                    [0, 0, 0]
                ],
                [
                    [5, 0, 0],
                    [5, 5, 5],
                    [0, 0, 0]
                ],
                [
                    [0, 0, 6],
                    [6, 6, 6],
                    [0, 0, 0]
                ],
                [
                    [0, 7, 7],
                    [0, 7, 7],
                    [0, 0, 0]
                ]
            ];
            return blocks.map(makeRotations);
        },
        getRightRotatedBlock: function(block){
            return rotateRight(block);
        },
        getLeftRotatedBlock: function(block){
            for (var i=0; i<3; i++){
                block = rotateRight(block);
            }
        }
    };
});
